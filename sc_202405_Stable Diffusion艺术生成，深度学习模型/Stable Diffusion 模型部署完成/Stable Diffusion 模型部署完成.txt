


            
Stable Diffusion 模型部署完成
          




由于秋叶aaaki启动器的安装包实在太大，不得已必须重新挂载一块数据盘。使用云厂商提供的ECS，重新购买磁盘后，页面上虽然是已经挂载的状态，但是Window系统依然识别不到这块盘。需要在win系统的【磁盘管理】中，先【联机】，再【格式化】，最后【创建简单卷】。这是一个新挂载到ECS上面的磁盘，其状态显示为【脱机】。当磁盘处于联机状态时，它对操作系统是可见的，这意味着您可以对磁盘进行读写操作。这是磁盘的正常工作状态，允许用户和程序访问和修改磁盘上的数据。脱机状态意味着磁盘无法被操作系统访问，此时磁盘上的数据对于系统来说是不可见的。这通常用于当您不希望操作系统访问某个磁盘，或者在磁盘需要维护时。右键进行【联机】。右键进行【磁盘初始化】对于2TB以下的磁盘，可以选择MBR（主引导记录）或GPT（GUID分区表）；对于2TB以上的磁盘，通常只能选择GPT。初始化磁盘后，磁盘上还没有任何分区。在磁盘管理工具中，右键点击初始化后的磁盘，选择“新建简单卷”。按照向导步骤设置卷大小、分配驱动器字母以及选择文件系统（通常是NTFS或FAT32）。完成设置后，点击“完成”来创建新分区。至此，磁盘完成挂载，可以正式开始下载模型啦。具体的安装步骤我是参照【松鼠码字】公众号里面的文章【10分钟搭建好你的StableDiffusion环境】。文章提供了启动器的下载地址（如果失效可以后台联系我获取最新下载链接）。下载完成的包长这样的总共四份文件：1、 一个是可选的controlnet1.1模型库，里面有10个G的模型文件2、 7zip解压缩工具3、 Sd-webui压缩包（8G）4、 启动器运行依赖我们使用7zip解压缩工具解决第三个sd-webui压缩包，之后进入文件包，准备启动。不出意外的话，我们遇到了如下问题：点击下载并运行.NET Window Runtime。这里也简单介绍一下.NET Windows Runtime.NET Windows Runtime（WinRT）是一个用于Windows应用程序开发的低级别API集合，它提供了与Windows操作系统紧密集成的编程接口。WinRT是Windows应用程序框架的一部分，旨在为开发人员提供一种创建高性能、现代化的Windows应用程序的方式，无论是使用C#、C++、Visual Basic还是JavaScript。总的来说，.NET Windows Runtime是一个强大的工具集，如果应用程序想跟window充分交互，就大概率会用到WinRT。再次运行启动器，更新中。更新完之后，提示是否需要开启长路径支持。查了一下：长路径支持是指操作系统对超过传统限制长度的文件路径名的支持。在Windows操作系统中，传统的文件路径长度限制是260个字符，这被称为MAX_PATH限制。这个限制是由于早期Windows系统的设计决定的，但随着时间的推移，文件系统变得更加复杂，用户和应用程序的需求也增加了，这导致了对更长文件路径的需求。从Windows 10的某个更新开始，Microsoft引入了对长路径的支持，允许文件路径长度达到32,767个字符。这一改变适用于NTFS文件系统，使得用户和应用程序可以创建和管理具有更长名称的文件和文件夹。长路径支持的好处：1. 更好的文件组织：用户可以创建更深层次的文件夹结构，有助于更好地组织和分类文件。2. 更有意义的文件名：长路径支持允许使用更有意义的文件名和文件夹名，这有助于提高数据管理的清晰度和效率。3. 兼容性改进：许多现代应用程序和软件包需要长路径来正常工作，特别是在处理大量数据和复杂项目时。4. 减少错误和问题：在没有长路径支持的系统中，过长的文件路径会导致错误和问题，如“路径太长”或“无法创建文件”等，长路径支持可以解决这些问题。看到这么多好处，果断选择开启，开启之后需要重启计算机生效。重启之后，再次点击启动器，这次成功进入页面：点击左上角的【运行】模型加载时间为27.5秒从硬盘中加载权重：2s创建模型：0.9s将权重应用到模型：13.2s加载VAE(滤镜和微调)：8.9s计算空提示词：2.2s加载完成后在浏览器输入：http://127.0.0.1:7860/，即可打开页面。试用一下：输入Prompt：Prompt: cinematic photo of a red apple on a table in a classroom, on the blackboard are the words "go big or go home" written in chalk.提示（意译版）：这张电影级视觉效果的照片，捕捉到了一个静谧的教室瞬间，一颗鲜红的苹果静静地躺在桌子上，而在它背后的黑板上，则用醒目的粉笔字写着——「要么做大，要么回家」。理想的输出是这样的：实际输出却是这样的：有差距，就有学习进步的空间。后面会学习这个绘画工具的入门操作，详细讲解控制面板的操作参数，敬请期待。




