


            
UE5中的虚拟场景渲染全景视频
          




技术探索渲染全景图的意义在于使场景轻量化的同时保持沉浸感，可作为数字孪生场景项目阶段性向客户交付进度和成果的手段，无需向用户提供几十上百个G的工程源文件，相比截图、录屏又具有更好的体验和观感。下面来分享如何在UE5中渲染全景视频。准备好一个场景，我这里使用UE官方商城里的免费环境模板PalaceHall（本月免费资产）打开项目，在插件中搜索Movie Render两个都进行勾选，然后重启编辑器重启后，创建关卡序列,打开关卡序列，添加相机动画接下来就是传统的相机动画制作环节了。因为是全景渲染，相机旋转不需要任何调整，添加相机位置关键帧即可，如果需要全景图，则动画长度设置一帧即可，如果是多帧，则会输出帧序列，可用于合成全景视频。设置好相机动画后，点击渲染 点击修改渲染设置关闭延迟渲染，设置渲染分辨率（需要设置成2：1，根据自己电脑显存选择合适大小）点击设置，添加全景渲染 打开高级选项，勾选Allocate History Per Pane（不勾选场景光线会比较暗，同时需要保证场景和相机为手动曝光模式）打开项目设置，搜索“曝光”将曝光模式更改为手动，如果场景中有后期处理体积，需要在后期处理体积中也将曝光模式改为手动，调整曝光强度到合适的值。如果场景有其他关卡序列，存在渐变设置，需要先将其他关卡序列移除。 点击接受后点击渲染，推荐使用渲染（远程），等待渲染完成即可 渲染完成后，到输出文件夹下找到帧序列使用常规剪辑软件对帧序列进行合成这里我使用剪映来完成将帧序列拖入到剪映，再将素材文件夹拖到时间轴上。点击导出即可这里设置的分辨率是4K实际全景观看只有2K，如果需要观看有4K，则需要在剪辑软件中导出8K分辨率。常规剪辑软件无法导出8K或者更高分辨率的视频，这里推荐使用Blender来对8K的帧序列进行合成与导出新建视频编辑 在序列编辑器选择添加——图像序列按A全选文件夹中的帧序列，设置起始帧和结束帧与图片数量对应，匹配方法使用原始尺寸。设置分辨率和帧率与UE中的设置一致，设置起始帧与结束点和导入时一致，选择输出文件夹，导出格式设置为AVI。点击渲染动画（或者按Ctrl+F12）等待渲染完成即可获得超过4K分辨率的视频了你可以将全景视频上传到B站上传后，回到视频设置里勾选启用全景即可通过电脑端或者手机APP进行预览（上传时无法选择启用全景，需要审核通过后才有此选项）有全景视频播放器或者也可以直接播放全景视频查看。一起看看最终效果吧B站视频链接：https://www.bilibili.com/video/BV15k4y1w7mh/?share_source=copy_web&vd_source=df7912e474f634c3dc1d4f564e92f80a撰云空间专注于提升数据空间、时间分辨率的研究和应用，厘清信息资源的时空关系，为社会发展提供扎实基础的时空数据；致力于数字转型、智能升级、融合创新服务，为管理赋能，助力释放“数字经济”的倍增效用。铸造国内领先的地理信息、遥感、时空数据获取及应用专业队伍。编辑丨张海丽出品丨海南撰云空间信息技术有限公司




